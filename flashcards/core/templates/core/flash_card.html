{% extends "base.html" %}
{% load static %}

{% block title %}Studying: {{ deck_name }}{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'core/css/flash_card.css' %}">
{% endblock %}

{% block content %}
<h1 class="mb-4">Studying: {{ deck_name }}</h1>

{% if card is not None %}
<div class="d-flex flex-column align-items-center">
    <form method="post" class="text-center">
        {% csrf_token %}

        <div class="flash-card mb-3">
            <div class="card-front">
                <p>{{ card.front }}</p>
                <small class="text-body-secondary fst-italic">(Click to flip)</small>
            </div>
            <div class="card-back">
                <p>{{ card.back }}</p>
            </div>
        </div>

        <div class="feedback-buttons">
            <button type="submit" name="feedback" value="again">Again</button>
            <button type="submit" name="feedback" value="hard">Hard</button>
            <button type="submit" name="feedback" value="good">Good</button>
            <button type="submit" name="feedback" value="easy">Easy</button>
            <input type="hidden" name="card_id" value="{{ card.id }}" />
        </div>
    </form>
</div>
{% else %}
<p>No more cards in this deck. Please, go back later.</p>
{% endif %}

<a href="{% url 'deck_list' %}">Back to deck list</a>
{% endblock %}

{% block scripts %}
<script src="{% static 'core/js/flash_card.js' %}" defer></script>
{% endblock %}